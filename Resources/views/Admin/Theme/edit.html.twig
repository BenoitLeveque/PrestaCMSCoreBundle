{#
/**
 * This file is part of the Presta Bundle project.
 *
 * (c) Nicolas Bastien <nbastien@prestaconcept.net>
 *
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */
/**
 * Theme edition
 */
#}

{% extends base_template %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('' ~ theme.adminStyle) }}"></script>
{% endblock %}

{% block title %}
    Theme - {{ theme.name }}
{% endblock %}
{% block breadcrumb %}
    CMS > Gestion des themes > {{ theme.name }}
{% endblock %}

{% block content %}
<div id="modal" class="modal modal-large hide">
  <div class="modal-header">
    <h3 id="modal-title">Edit block</h3>
  </div>
  <div id="modal-body" class="modal-body">
      <div id="modal-loader">
          <img src="{{ asset('bundles/prestasonataadmin/img/loader.gif') }}" />
      </div>
      <div id="modal-content"></div>
  </div>
  <div class="modal-footer">
    <a href="#" class="btn" data-dismiss="modal"><i class="icon-ok icon-remove"></i>&nbsp;Close</a>
    <a href="#" class="btn btn-primary" onclick="CMSContent.submitModalForm();"><i class="icon-ok icon-white"></i>&nbsp;Save changes</a>
  </div>
</div>

<div class="sonata-ba-form">
    <div class="form-horizontal">
        <fieldset>
            <legend>General Information</legend>
            <div class="row-fluid sonata-ba-collapsed-fields">
                <div class="span5 center">
                    <img src="{{ asset(theme.screenshot) }}" class="sonata-ba-img-box" />
                </div>
                <div class="span7">
                    <table class="table ">
                        <tbody>
                            <tr>
                                <th><label>Name</label></th><td>{{ theme.name }}</td>
                            </tr>
                            <tr>
                                <th><label>Description</label></th><td>{{ theme.description }}</td>
                            </tr>
                            <tr>
                                <th><label>Zones</label></th>
                                <td>
                                    <ul>
                                    {% for zone in theme.zones %}
                                        {% if (zone.name) %}<li><strong>{{ zone.name }}</strong></li>{% endif %}
                                    {% endfor %}
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <th><label>Page templates</label></th>
                                <td>
                                    <ul>
                                    {% for template in theme.pageTemplates %}
                                        <li><strong>{{ template.name }}</strong>{# : <p>{{ template.path }}</p> #}</li>
                                    {% endfor %}
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </fieldset>
    </div>
</div>

<div class="sonata-ba-form">
    <div class="form-horizontal">
        <fieldset>
            <legend>Content</legend>
            <div class="sonata-ba-collapsed-fields">
                {{ sonata_block_render({
                    'type': 'presta_cms.block.website.selector',
                    'settings': {'website_id' : websiteId, 'locale' : locale, 'with_fieldset' : false, 'url' : path('presta_cms_theme_edit', { 'name': theme.name }) }
                }) }}
                {% set zones = theme.zones %}
                {% set cols  = theme.cols %}
                {% include 'PrestaCMSCoreBundle:Admin/Block:_content.html.twig' %}
            </div>
        </fieldset>
    </div>
</div>
{% endblock %}